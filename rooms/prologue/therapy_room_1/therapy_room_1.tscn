[gd_scene load_steps=60 format=3 uid="uid://ddidnaktvwg15"]

[ext_resource type="Script" path="res://rooms/prologue/therapy_room_1/therapy_room_1.gd" id="1_ojqgy"]
[ext_resource type="PackedScene" uid="uid://derrir5d4ljbp" path="res://rooms/prologue/therapy_room_1/Therapy_room_1_tilemap.tscn" id="2_tlh12"]
[ext_resource type="PackedScene" uid="uid://bhrutww653eol" path="res://characters/player/player.tscn" id="3_cwlvg"]
[ext_resource type="PackedScene" uid="uid://c84okus6y6nte" path="res://rooms/door.tscn" id="5_wb5kv"]
[ext_resource type="PackedScene" uid="uid://cj3deljjo8g4r" path="res://characters/therapist/therapist.tscn" id="6_b5trd"]
[ext_resource type="PackedScene" uid="uid://bkkqbagsf2627" path="res://components/cutscene_player.tscn" id="6_jcd14"]
[ext_resource type="Script" path="res://components/cutscene_util/cutscene.gd" id="7_fuki3"]
[ext_resource type="Script" path="res://components/cutscene_util/cutscene_frame.gd" id="8_0e42a"]
[ext_resource type="PackedScene" uid="uid://bln04fcnkpha8" path="res://characters/dynamic_bounds_camera.tscn" id="14_j2fhb"]

[sub_resource type="Animation" id="Animation_tj1ur"]
resource_name = "01_therapist_turning"
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Therapist")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(1),
"transitions": PackedFloat32Array(1),
"values": [{
"args": ["move_down", 1],
"method": &"change_animation_frame"
}]
}

[sub_resource type="Animation" id="Animation_ffkva"]
resource_name = "02_therapist_to_sofa"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Therapist:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1, 1.2, 1.6),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector2(728, 476), Vector2(728, 825), Vector2(728, 825), Vector2(780, 825)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Therapist")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1, 1.2, 1.6),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"values": [{
"args": ["move_down"],
"method": &"play_animation"
}, {
"args": [],
"method": &"stop_animation"
}, {
"args": ["move_right"],
"method": &"play_animation"
}, {
"args": [],
"method": &"stop_animation"
}]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Therapist")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(1, 1.1, 1.6),
"transitions": PackedFloat32Array(1, 1, 1),
"values": [{
"args": ["move_down", 1],
"method": &"change_animation_frame"
}, {
"args": ["move_right", 1],
"method": &"change_animation_frame"
}, {
"args": ["move_down", 1],
"method": &"change_animation_frame"
}]
}

[sub_resource type="Animation" id="Animation_cdnv0"]
resource_name = "03_after_sesh"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Therapist:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(780, 825)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Player:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(780, 725)]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Player")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": ["move_down", 1],
"method": &"change_animation_frame"
}]
}
tracks/3/type = "method"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Therapist")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": ["move_up", 1],
"method": &"change_animation_frame"
}]
}

[sub_resource type="Animation" id="Animation_oh5n4"]
resource_name = "04_therapist_exiting"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Therapist:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 1.2, 1.8, 2.4, 2.43333, 2.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(780, 825), Vector2(620, 825), Vector2(620, 1075), Vector2(395, 1075), Vector2(395, 1250), Vector2(395, 1250), Vector2(395, 1690)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Therapist")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.5, 1.2, 1.8, 2.4),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"values": [{
"args": ["move_left"],
"method": &"play_animation"
}, {
"args": ["move_down"],
"method": &"play_animation"
}, {
"args": ["move_left"],
"method": &"play_animation"
}, {
"args": ["move_down"],
"method": &"play_animation"
}, {
"args": [],
"method": &"stop_animation"
}]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Therapist")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(2.4),
"transitions": PackedFloat32Array(1),
"values": [{
"args": ["move_down", 1],
"method": &"change_animation_frame"
}]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Therapist:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(2.4),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_pahui"]
length = 0.001
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Therapist")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": ["move_up", 1],
"method": &"change_animation_frame"
}]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Therapist:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(728, 476)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Player:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(395, 1202)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Therapist:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_4xaem"]
resource_name = "test"

[sub_resource type="AnimationLibrary" id="AnimationLibrary_v0xek"]
_data = {
"01_therapist_turning": SubResource("Animation_tj1ur"),
"02_therapist_to_sofa": SubResource("Animation_ffkva"),
"03_after_sesh": SubResource("Animation_cdnv0"),
"04_therapist_exiting": SubResource("Animation_oh5n4"),
"RESET": SubResource("Animation_pahui"),
"test": SubResource("Animation_4xaem")
}

[sub_resource type="GDScript" id="GDScript_pofxq"]

[sub_resource type="Resource" id="Resource_ntrm7"]
resource_name = "DelayAction"
script = SubResource("GDScript_pofxq")
time = 1.0

[sub_resource type="Resource" id="Resource_o4hon"]
script = ExtResource("8_0e42a")
action_type = 1
action = SubResource("Resource_ntrm7")
"Action Type" = 1
Action = SubResource("Resource_ntrm7")

[sub_resource type="GDScript" id="GDScript_7n2rv"]

[sub_resource type="Resource" id="Resource_vqitr"]
resource_name = "PlayAction"
script = SubResource("GDScript_7n2rv")
animation_name = ""

[sub_resource type="Resource" id="Resource_767xp"]
script = ExtResource("8_0e42a")
action_type = 2
action = SubResource("Resource_vqitr")
"Action Type" = 2
Action = SubResource("Resource_vqitr")

[sub_resource type="GDScript" id="GDScript_kgua7"]

[sub_resource type="Resource" id="Resource_hgmrw"]
resource_name = "DelayAction"
script = SubResource("GDScript_kgua7")
time = 1.0

[sub_resource type="Resource" id="Resource_018kg"]
script = ExtResource("8_0e42a")
action_type = 1
action = SubResource("Resource_hgmrw")
"Action Type" = 1
Action = SubResource("Resource_hgmrw")

[sub_resource type="GDScript" id="GDScript_4ev3g"]

[sub_resource type="Resource" id="Resource_mdi2d"]
resource_name = "DialogueAction"
script = SubResource("GDScript_4ev3g")
dialogue_id = ""

[sub_resource type="Resource" id="Resource_8ltel"]
script = ExtResource("8_0e42a")
action_type = 3
action = SubResource("Resource_mdi2d")
"Action Type" = 3
Action = SubResource("Resource_mdi2d")

[sub_resource type="Resource" id="Resource_fqok6"]
resource_name = "PlayAction"
script = SubResource("GDScript_7n2rv")
animation_name = ""

[sub_resource type="Resource" id="Resource_3isbk"]
script = ExtResource("8_0e42a")
action_type = 2
action = SubResource("Resource_fqok6")
"Action Type" = 2
Action = SubResource("Resource_fqok6")

[sub_resource type="Resource" id="Resource_p02ov"]
resource_name = "DelayAction"
script = SubResource("GDScript_kgua7")
time = 1.0

[sub_resource type="Resource" id="Resource_067cu"]
script = ExtResource("8_0e42a")
action_type = 1
action = SubResource("Resource_p02ov")
"Action Type" = 1
Action = SubResource("Resource_p02ov")

[sub_resource type="Resource" id="Resource_ea145"]
script = ExtResource("7_fuki3")
cutscene_name = "cutscene_01"
frames = Array[ExtResource("8_0e42a")]([SubResource("Resource_o4hon"), SubResource("Resource_767xp"), SubResource("Resource_018kg"), SubResource("Resource_8ltel"), SubResource("Resource_3isbk"), SubResource("Resource_067cu")])

[sub_resource type="Resource" id="Resource_2ph47"]
resource_name = "PlayAction"
script = SubResource("GDScript_7n2rv")
animation_name = ""

[sub_resource type="Resource" id="Resource_jnp3s"]
script = ExtResource("8_0e42a")
action_type = 2
action = SubResource("Resource_2ph47")
"Action Type" = 2
Action = SubResource("Resource_2ph47")

[sub_resource type="Resource" id="Resource_8ogs7"]
resource_name = "DelayAction"
script = SubResource("GDScript_kgua7")
time = 1.0

[sub_resource type="Resource" id="Resource_i6un1"]
script = ExtResource("8_0e42a")
action_type = 1
action = SubResource("Resource_8ogs7")
"Action Type" = 1
Action = SubResource("Resource_8ogs7")

[sub_resource type="Resource" id="Resource_dd8sj"]
resource_name = "DialogueAction"
script = SubResource("GDScript_4ev3g")
dialogue_id = ""

[sub_resource type="Resource" id="Resource_hamg6"]
script = ExtResource("8_0e42a")
action_type = 3
action = SubResource("Resource_dd8sj")
"Action Type" = 3
Action = SubResource("Resource_dd8sj")

[sub_resource type="Resource" id="Resource_c1hr4"]
resource_name = "DelayAction"
script = SubResource("GDScript_kgua7")
time = 1.0

[sub_resource type="Resource" id="Resource_11yrm"]
script = ExtResource("8_0e42a")
action_type = 1
action = SubResource("Resource_c1hr4")
"Action Type" = 1
Action = SubResource("Resource_c1hr4")

[sub_resource type="Resource" id="Resource_wm06n"]
resource_name = "DialogueAction"
script = SubResource("GDScript_4ev3g")
dialogue_id = ""

[sub_resource type="Resource" id="Resource_bu1f1"]
script = ExtResource("8_0e42a")
action_type = 3
action = SubResource("Resource_wm06n")
"Action Type" = 3
Action = SubResource("Resource_wm06n")

[sub_resource type="Resource" id="Resource_vmfe3"]
resource_name = "DelayAction"
script = SubResource("GDScript_kgua7")
time = 1.0

[sub_resource type="Resource" id="Resource_xrelm"]
script = ExtResource("8_0e42a")
action_type = 1
action = SubResource("Resource_vmfe3")
"Action Type" = 1
Action = SubResource("Resource_vmfe3")

[sub_resource type="Resource" id="Resource_ukuyk"]
resource_name = "DialogueAction"
script = SubResource("GDScript_4ev3g")
dialogue_id = ""

[sub_resource type="Resource" id="Resource_1dv7p"]
script = ExtResource("8_0e42a")
action_type = 3
action = SubResource("Resource_ukuyk")
"Action Type" = 3
Action = SubResource("Resource_ukuyk")

[sub_resource type="Resource" id="Resource_fe1h1"]
script = ExtResource("7_fuki3")
cutscene_name = "cutscene_02"
frames = Array[ExtResource("8_0e42a")]([SubResource("Resource_jnp3s"), SubResource("Resource_i6un1"), SubResource("Resource_hamg6"), SubResource("Resource_11yrm"), SubResource("Resource_bu1f1"), SubResource("Resource_xrelm"), SubResource("Resource_1dv7p")])

[sub_resource type="Resource" id="Resource_nlh6y"]
resource_name = "PlayAction"
script = SubResource("GDScript_7n2rv")
animation_name = ""

[sub_resource type="Resource" id="Resource_8dymp"]
script = ExtResource("8_0e42a")
action_type = 2
action = SubResource("Resource_nlh6y")
"Action Type" = 2
Action = SubResource("Resource_nlh6y")

[sub_resource type="Resource" id="Resource_kypil"]
resource_name = "DelayAction"
script = SubResource("GDScript_kgua7")
time = 1.0

[sub_resource type="Resource" id="Resource_31cwg"]
script = ExtResource("8_0e42a")
action_type = 1
action = SubResource("Resource_kypil")
"Action Type" = 1
Action = SubResource("Resource_kypil")

[sub_resource type="Resource" id="Resource_ktl78"]
resource_name = "DialogueAction"
script = SubResource("GDScript_4ev3g")
dialogue_id = ""

[sub_resource type="Resource" id="Resource_x1dul"]
script = ExtResource("8_0e42a")
action_type = 3
action = SubResource("Resource_ktl78")
"Action Type" = 3
Action = SubResource("Resource_ktl78")

[sub_resource type="Resource" id="Resource_ha1cs"]
resource_name = "PlayAction"
script = SubResource("GDScript_7n2rv")
animation_name = ""

[sub_resource type="Resource" id="Resource_vwrnp"]
script = ExtResource("8_0e42a")
action_type = 2
action = SubResource("Resource_ha1cs")
"Action Type" = 2
Action = SubResource("Resource_ha1cs")

[sub_resource type="Resource" id="Resource_5p4o5"]
resource_name = "DelayAction"
script = SubResource("GDScript_kgua7")
time = 1.0

[sub_resource type="Resource" id="Resource_dsr0a"]
script = ExtResource("8_0e42a")
action_type = 1
action = SubResource("Resource_5p4o5")
"Action Type" = 1
Action = SubResource("Resource_5p4o5")

[sub_resource type="Resource" id="Resource_1mxyc"]
script = ExtResource("7_fuki3")
cutscene_name = "cutscene_03"
frames = Array[ExtResource("8_0e42a")]([SubResource("Resource_8dymp"), SubResource("Resource_31cwg"), SubResource("Resource_x1dul"), SubResource("Resource_vwrnp"), SubResource("Resource_dsr0a")])

[node name="TherapyRoom1" type="Node2D" node_paths=PackedStringArray("player", "doors")]
y_sort_enabled = true
script = ExtResource("1_ojqgy")
player = NodePath("Player")
doors = [NodePath("Door1")]
metadata/_edit_lock_ = true

[node name="TherapyRoom1TileMap" parent="." instance=ExtResource("2_tlh12")]
metadata/_edit_lock_ = true

[node name="Player" parent="." instance=ExtResource("3_cwlvg")]
position = Vector2(395, 1202)

[node name="Therapist" parent="." instance=ExtResource("6_b5trd")]
position = Vector2(728, 476)

[node name="Door1" parent="." instance=ExtResource("5_wb5kv")]
position = Vector2(395, 1282)
press_required = false
entry_direction = 1
push_dist = 80.0
path_to_new_scene = "res://rooms/prologue/lobby/lobby.tscn"
entry_door_name = "therapy_room_1"
metadata/_edit_lock_ = true

[node name="CutscenePlayer" parent="." instance=ExtResource("6_jcd14")]
unique_name_in_owner = true
libraries = {
"": SubResource("AnimationLibrary_v0xek")
}
cutscenes = Array[ExtResource("7_fuki3")]([SubResource("Resource_ea145"), SubResource("Resource_fe1h1"), SubResource("Resource_1mxyc")])

[node name="DynamicBoundsCamera" parent="." instance=ExtResource("14_j2fhb")]
unique_name_in_owner = true
is_centered = true
metadata/_edit_lock_ = true
